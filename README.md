# *Описание*

Проект направлен на анализ данных и построение статистических метрик и модели по данным объявлений о продажи недвижимости, размещенных на порталее cian.ru, по 6 самым курпным городам Российской Федерации, а именно: Москва, Санкт-Петербург, Новосибирск, Казань, Екатеринбург, Нижний Новгород. В проекте используются ELK-стек и различные библиотеки Python для сбора и обработки данных, выполнения статистического анализа и построения регрессионных моделей.




# Важно
Архив с дистрибутивом необходимо распоковать на локальном диске, например на локальном диске C:\, создав папку C:\WorkDir. Дальнейшая работа осуществляется в укащанной директории.





# Инструкция по запуску кода файла CIAN_parcer.ipynb

**Данный файл реализует парсинг данных с сайта ЦИАН Недвижимость, при этом реализация разработанного алгоритма парсинга невозможна в среде Google Colab, поэтому рекомендуется осуществлять запуск файла в среде Jupyter Notebook**

Шаг 1: Вход в Jupyter Notebook
Установить ПО Jupyter Notebook, если требуется.

Шаг 2: Запуск Jupyter Notebook
В рабочей директории, а именно C:\WorkDir\Cian_analyzer_app осуществить запуск Jupyter Notebook, открыв cmd в указанной директории и запустив в cmd команду "jupyter notebook"

Шаг 3: Запуск файла CIAN_parcer.ipynb
В открывшемся localhost выбрать файл CIAN_parcer.ipynb и запустить его.

Шаг 4: Загрузка библиотек
В первом блоке кода осуществить загрузку необходимых библиотек.

Шаг 5: Запуск кода
Проверить, что все необходимые файлы загружены.
Запустить каждую ячейку блокнота по очереди, нажимая значок Play (треугольник) или использовать сочетание клавиш Shift + Enter для выполнения ячеек последовательно.
Следовать пояснениям и указаням в коде. При необходимости, обновить пути до файлов, где это требуется, для корректной работы кода.

Шаг 6: Запуск кода
После успешного формирования базы данных (файл data.csv) проверить наполненость файла и перейти к запуску ELK стека.





# Инструкция по запуску и использованию ELK стека


Шаг 1: Запуск elasticsearch
В директории C:\WorkDir\Cian_analyzer_app\Visualizer\ELK stack\elasticsearch-8.13.2\bin открыть cmd и ввести команду .\elasticsearch.bat

Шаг 2: Проверка запуска elasticsearch
Спустя некотрое время (запуск происходит в течение нескольких минут) проверить успешность запуска elasticsearch, открыв http://localhost:9200 и получив вывод информации на странице браузера, не содержащий ошибку 404

Шаг 3: Запуск kibana
В директории C:\WorkDir\Cian_analyzer_app\Visualizer\ELK stack\kibana-8.13.2\bin открыть cmd и ввести команду .\kibana.bat

Шаг 4: Проверка запуска kibana
Спустя некотрое время проверить успешность запуска kibana, открыв http://localhost:5601 и получив вывод информации (откроется user интерфейс) на странице браузера, не содержащий ошибку 404

**Следующие шаги необходимо ввыполнять только в случае загрузки новых данных из парсера, перед этим в kibana НЕОБХОДИМО УДАЛИТЬ старый индекс "cian_general_float"**

Шаг 5: Запуск logstash
В директории C:\WorkDir\Cian_analyzer_app\Visualizer\ELK stack\logstash-8.13.2 открыть cmd и ввести команду bin\logstash -f logstash.conf

Шаг 6: Проверка запуска kibana
Спустя некотрое время (запуск происходит в течение 6-7 минут) начнется загрузка данных из файла data.csv, по окнчании которой в kibana будет создан новый индекс "cian_general_float" (при условии успешного удаления старой версии этого индекса).

Шаг 7: Взаимодействие с kibana
В интерфейсе kibana (http://localhost:5601) в разделе Analytics -> Dashboards созданы два дэшборда:
1. "Основная статистика по всем данным" - выводит основную статистику по всем городам исследования.
2. "Основная статистка по городу" - выводит статистику по конкретному городу исследования из 6 доступных, в данном дэшборде настроен удобый фильтр, где можно выбрать интересующий город из выпадающего списка.
При работе с визуализациями важно выбрать временной промежуток в правом верхнем углу, включающий дату последней загрузки данных (при использовании базы данных проекта - 2024-05-20).





# Инструкция по запуску кода файла Python_visualizer.ipynb


**Запуск данного файла возможен в различных средах, в том чсиле и в среде Google Colab, но мы рассмотрим запуск в среде Jupyter Notebook**

Шаг 1: Вход в Jupyter Notebook
Установить ПО Jupyter Notebook, если требуется.

Шаг 2: Запуск Jupyter Notebook
В рабочей директории, а именно C:\WorkDir\Cian_analyzer_app осуществить запуск Jupyter Notebook, открыв cmd в указанной директории и запустив в cmd команду "jupyter notebook"

Шаг 3: Запуск файла Python_visualizer.ipynb
В открывшемся http://localhost:8888/tree выбрать файл Python_visualizer.ipynb и запустить его.

Шаг 4: Загрузка библиотек
В первом блоке кода осуществить загрузку необходимых библиотек.

Шаг 5: Запуск кода
Проверить, что все необходимые файлы загружены.
Запустить каждую ячейку блокнота по очереди, нажимая значок Play (треугольник) или использовать сочетание клавиш Shift + Enter для выполнения ячеек последовательно.
Следовать пояснениям и указаням в коде. При необходимости, обновить пути до файлов, где это требуется, для корректной работы кода.




# Источник данных: [cian.ru]
